{"version":3,"sources":["servis/contacts-API.js","redux/contacts/contacts-operation.js","redux/contacts/contacts-actions.js","redux/auth/auth-selectors.js","components/Container/Container.module.css","redux/auth/auth-operations.js","redux/auth/auth-slice.js","components/Navigation.js","components/UserMenu/default-avatar.png","components/UserMenu/UserMenu.js","components/AuthNav.js","components/AppAll.js","components/Container/Container.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/contacts/contacts-reduser-api.js","redux/store.js","index.js"],"names":["fetchConacts","a","axios","get","data","fetchConactsPost","obj","post","fetchConactsDelete","id","delete","defaults","baseURL","fetchContacts","dispatch","allActions","fetchContactRequest","conactsAPI","fetchContactSucess","fetchContactError","message","contactsFetchPost","createAsyncThunk","newContact","rejectWithValue","getState","contacts","entris","find","contact","name","toLowerCase","alert","contactsFetchDelete","formSubmit","createAction","number","payload","uuidv4","deleteContact","filters","authSelectors","getIsLoggedIn","state","auth","isLoggedIn","getUsername","user","getIsLoding","isLoding","module","exports","token","headers","common","Authorization","register","credentials","console","log","logIn","operations","logOut","fetchCurrentUser","_","thunkAPI","persistedToken","authSlice","createSlice","initialState","email","extraReducers","authOperations","fulfilled","action","pending","rejected","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","isLogIn","useSelector","to","exact","style","activeStyle","container","alignItems","avatar","marginRight","UserMenu","useDispatch","defaultAvatar","src","alt","width","type","onClick","className","AuthNav","header","justifyContent","borderBottom","AppAll","Container","children","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","RegisterView","LoginView","Contacts","App","useEffect","fallback","path","createReducer","filter","error","reducerFilter","allReducer","contactsReduscer","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"ySAKO,SAAeA,IAAtB,+B,4CAAO,8BAAAC,EAAA,sEACkBC,IAAMC,IAAN,aADlB,uBACGC,EADH,EACGA,KADH,kBAEEA,GAFF,4C,sBAKA,SAAeC,EAAtB,kC,4CAAO,WAAgCC,GAAhC,iBAAAL,EAAA,sEACkBC,IAAMK,KAAN,YAAwBD,GAD1C,uBACGF,EADH,EACGA,KADH,kBAEEA,GAFF,4C,sBAKA,SAAeI,EAAtB,kC,4CAAO,WAAkCC,GAAlC,iBAAAR,EAAA,sEACkBC,IAAMQ,OAAN,oBAA0BD,IAD5C,uBACGL,EADH,EACGA,KADH,kBAEEA,GAFF,4C,sBAZPF,IAAMS,SAASC,QAAU,wC,YCEZC,EAAgB,yDAAM,WAAOC,GAAP,eAAAb,EAAA,6DACjCa,EAASC,IAAWC,uBADa,kBAIZC,IAJY,OAIzBb,EAJyB,OAK/BU,EAASC,IAAWG,mBAAmBd,IALR,gDAO/BU,EAASC,IAAWI,kBAAkB,KAAMC,UAPb,yDAAN,uDAWhBC,EAAoBC,YAC/B,8BAD+C,uCAE/C,WAAOC,EAAP,sBAAAtB,EAAA,yDAAqBuB,EAArB,EAAqBA,gBAAiBC,EAAtC,EAAsCA,SAAtC,UAEyBA,IAAWC,SAASC,OAAOC,MAC9C,SAACC,GAAD,aACS,OAAPA,QAAO,IAAPA,GAAA,UAAAA,EAASC,YAAT,eAAeC,iBAAkBR,EAAWO,KAAKC,iBAJzD,uBAOMC,MAAM,qKAAD,OAAoCT,EAAWO,KAA/C,iDAPX,kBAQa,MARb,uBAU2Bb,EAA4BM,GAVvD,cAUUG,EAVV,yBAYWA,GAZX,2DAcWF,EAAgB,EAAD,KAd1B,0DAF+C,yDAqBpCS,EAAsBX,YACjC,gCADiD,uCAEjD,WAAOb,EAAP,kBAAAR,EAAA,6DAAauB,EAAb,EAAaA,gBAAb,kBAEUP,EAA8BR,GAFxC,gCAGWA,GAHX,yDAKWe,EAAgB,EAAD,KAL1B,yDAFiD,0D,gCCrCnD,mBAoBMT,EAAa,CACjBmB,WAjBiBC,YAAa,eAAe,gBAAGL,EAAH,EAAGA,KAAMM,EAAT,EAASA,OAAT,MAAuB,CACpEC,QAAS,CACP5B,GAAI6B,cACJR,OACAM,cAcFG,cAVoBJ,YAAa,kBAWjCK,QATcL,YAAa,kBAU3BnB,oBAR0BmB,YAAa,iCASvCjB,mBARyBiB,YAAa,gCAStChB,kBARwBgB,YAAa,gCAWxBpB,O,gCC3Bf,IAKM0B,EAAgB,CACpBC,cANoB,SAACC,GAAD,OAAWA,EAAMC,KAAKC,YAO1CC,YALkB,SAACH,GAAD,OAAWA,EAAMC,KAAKG,KAAKjB,MAM7CkB,YALkB,SAACL,GAAD,OAAWA,EAAMC,KAAKK,WAO3BR,O,mBCXfS,EAAOC,QAAU,CAAC,UAAY,+B,2LCI9BjD,IAAMS,SAASC,QAAU,wCAEzB,I,IAAMwC,EAAQ,SACRA,GACFlD,IAAMS,SAAS0C,QAAQC,OAAOC,cAA9B,iBAAwDH,IAFtDA,EAAQ,WAKVlD,IAAMS,SAAS0C,QAAQC,OAAOC,cAAgB,IAI5CC,EAAWlC,YAAiB,gBAAD,uCAAkB,WAAOmC,GAAP,iBAAAxD,EAAA,+EAExBC,IAAMK,KAAK,gBAAiBkD,GAFJ,uBAEvCrD,EAFuC,EAEvCA,KACRgD,EAAUhD,EAAKgD,OAHgC,kBAIxChD,GAJwC,gCAM/CsD,QAAQC,IAAI,KAAMvC,SAN6B,yDAAlB,uDAU3BwC,EAAQtC,YAAiB,aAAD,uCAAe,WAAOmC,GAAP,iBAAAxD,EAAA,+EAElBC,IAAMK,KAAK,eAAgBkD,GAFT,uBAEjCrD,EAFiC,EAEjCA,KACRgD,EAAUhD,EAAKgD,OAH0B,kBAIlChD,GAJkC,gCAMzCsD,QAAQC,IAAI,KAAMvC,SANuB,yDAAf,uDA+CfyC,EANI,CACjBL,WACAM,OAjCaxC,YAAiB,cAAD,sBAAgB,sBAAArB,EAAA,+EAErCC,IAAMK,KAAK,iBAF0B,OAG3C6C,IAH2C,+CAK3CM,QAAQC,IAAI,KAAMvC,SALyB,yDAkC7CwC,QACAG,iBA1BuBzC,YACvB,eADuC,uCAEvC,WAAO0C,EAAGC,GAAV,uBAAAhE,EAAA,yDACQ0C,EAAQsB,EAASxC,WACjByC,EAFR,OAEyBvB,QAFzB,IAEyBA,GAFzB,UAEyBA,EAAOC,YAFhC,aAEyB,EAAaQ,MACpCM,QAAQC,MAEe,OAAnBO,EALN,yCAMWD,EAASzC,mBANpB,gCAUU4B,EAAUc,GAVpB,wBAW2BhE,IAAMC,IAAI,kBAXrC,wBAWYC,EAXZ,EAWYA,KAXZ,kBAaWA,GAbX,kCAeIsD,QAAQC,IAAI,KAAMvC,SAftB,0DAFuC,0D,eCE1B+C,EAnCGC,aAAW,GAC3BtC,KAAM,OACNuC,aATmB,CACnBtB,KAAM,CAAEjB,KAAM,KAAMwC,MAAO,MAC3BlB,MAAO,KACPP,YAAY,EACZI,UAAU,GAMVsB,eAAa,mBACVC,EAAehB,SAASiB,WADd,SACyB9B,EAAO+B,GACzC/B,EAAMI,KAAO2B,EAAOrC,QAAQU,KAC5BJ,EAAMS,MAAQsB,EAAOrC,QAAQe,MAC7BT,EAAME,YAAa,KAJV,cAMV2B,EAAeZ,MAAMa,WANX,SAMsB9B,EAAO+B,GACtC/B,EAAMI,KAAO2B,EAAOrC,QAAQU,KAC5BJ,EAAMS,MAAQsB,EAAOrC,QAAQe,MAC7BT,EAAME,YAAa,KATV,cAWV2B,EAAeV,OAAOW,WAXZ,SAWuB9B,EAAO+B,GACvC/B,EAAMI,KAAO,CAAEjB,KAAM,KAAMwC,MAAO,MAClC3B,EAAMS,MAAQ,KACdT,EAAME,YAAa,KAdV,cAiBV2B,EAAeT,iBAAiBY,SAjBtB,SAiB+BhC,GACxCA,EAAMM,UAAW,KAlBR,IAHc,cAwB1BuB,EAAeT,iBAAiBU,WAxBN,SAwBiB9B,EAAO+B,GACjD/B,EAAMI,KAAO2B,EAAOrC,QACpBM,EAAME,YAAa,EACnBF,EAAMM,UAAW,KA3BQ,cA8B1BuB,EAAeT,iBAAiBa,UA9BN,SA8BgBjC,GACzCA,EAAMM,UAAW,KA/BQ,IAmC7B,S,6ICxCM4B,EAAS,CACbC,KAAM,CACJC,QAAS,eACTC,eAAgB,OAChBC,QAAS,GACTC,WAAY,IACZC,MAAO,WAETC,WAAY,CACVD,MAAO,YAyBIE,EArBI,WACjB,IAAMC,EAAUC,YAAY9C,IAAcC,eAC1C,OACE,gCACE,cAAC,IAAD,CAAS8C,GAAG,IAAIC,OAAK,EAACC,MAAOb,EAAOC,KAAMa,YAAad,EAAOO,WAA9D,wDAGCE,GACC,cAAC,IAAD,CACEE,GAAG,YACHC,OAAK,EACLC,MAAOb,EAAOC,KACda,YAAad,EAAOO,WAJtB,6GC5BO,MAA0B,2CCMnCP,EAAS,CACbe,UAAW,CACTb,QAAS,OACTc,WAAY,UAEdC,OAAQ,CACNC,YAAa,GAEfjE,KAAM,CACJoD,WAAY,IACZa,YAAa,KAIF,SAASC,IACtB,IAAMlF,EAAWmF,cACXnE,EAAOyD,YAAY9C,IAAcK,aACjCgD,EAASI,EAEf,OACE,sBAAKR,MAAOb,EAAOe,UAAnB,UACE,qBAAKO,IAAKL,EAAQM,IAAI,GAAGC,MAAM,KAAKX,MAAOb,EAAOiB,SAClD,uBAAMJ,MAAOb,EAAO/C,KAApB,0GAA6CA,KAC7C,wBACEwE,KAAK,SACLC,QAAS,kBAAMzF,EAAS0D,IAAeV,WACvC0C,UAAU,YAHZ,+CC1BN,IAAM3B,EAAS,CACbC,KAAM,CACJC,QAAS,eACTC,eAAgB,OAChBC,QAAS,GACTC,WAAY,IACZC,MAAO,WAETC,WAAY,CACVD,MAAO,YAII,SAASsB,IACtB,OACE,gCACE,cAAC,IAAD,CACEjB,GAAG,YACHC,OAAK,EACLC,MAAOb,EAAOC,KACda,YAAad,EAAOO,WAJtB,gFAQA,cAAC,IAAD,CACEI,GAAG,SACHC,OAAK,EACLC,MAAOb,EAAOC,KACda,YAAad,EAAOO,WAJtB,+CCnBN,IAAMP,EAAS,CACb6B,OAAQ,CACN3B,QAAS,OACT4B,eAAgB,gBAChBd,WAAY,SACZe,aAAc,sBAIH,SAASC,IACtB,IAAMhE,EAAa0C,YAAY9C,IAAcC,eAE7C,OACE,yBAAQgD,MAAOb,EAAO6B,OAAtB,UACE,cAAC,EAAD,IACC7D,EAAa,cAACmD,EAAD,IAAe,cAACS,EAAD,O,qBCrBpB,SAASK,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,OAAO,qBAAKP,UAAW3B,IAAOe,UAAvB,SAAmCmB,I,oBCG7B,SAASC,EAAT,GAIX,IAHFD,EAGC,EAHDA,SAGC,IAFDE,kBAEC,MAFY,IAEZ,EADEC,EACF,yCACKrE,EAAa0C,YAAY9C,IAAcC,eAC7C,OACE,cAAC,IAAD,2BAAWwE,GAAX,aACGrE,EAAakE,EAAW,cAAC,IAAD,CAAUvB,GAAIyB,OCR9B,SAASE,EAAT,GAKX,IAJFJ,EAIC,EAJDA,SAIC,IAHDK,kBAGC,aAFDH,kBAEC,MAFY,IAEZ,EADEC,EACF,sDAGKG,EAFa9B,YAAY9C,IAAcC,gBAER0E,EAErC,OACE,cAAC,IAAD,2BAAWF,GAAX,aACGG,EAAiB,cAAC,IAAD,CAAU7B,GAAIyB,IAAiBF,K,YCNjDO,EAAWC,gBAAK,kBAAM,gCACtBC,EAAeD,gBAAK,kBAAM,gCAC1BE,EAAYF,gBAAK,kBAAM,gCACvBG,EAAWH,gBAAK,kBAAM,gCAEb,SAASI,IACtB,IAAM7G,EAAWmF,cACXhD,EAAWsC,YAAY9C,IAAcO,aAM3C,OAJA4E,qBAAU,WACR9G,EAAS0D,IAAeT,sBACvB,CAACjD,IAGF,cAACgG,EAAD,UACI7D,EAKA,qCACE,cAAC4D,EAAD,IACA,cAAC,IAAD,UACE,eAAC,WAAD,CACEgB,SACE,qBAAKrB,UAAU,SAAf,SACE,qBAAKA,UAAU,mBAHrB,UAOE,cAACW,EAAD,CAAa1B,OAAK,EAACqC,KAAK,IAAxB,SACE,cAACR,EAAD,MAEF,cAACH,EAAD,CACE1B,OAAK,EACLqC,KAAK,YACLb,WAAW,YACXG,YAAU,EAJZ,SAME,cAACI,EAAD,MAEF,cAACL,EAAD,CACE1B,OAAK,EACLqC,KAAK,SACLb,WAAW,YACXG,YAAU,EAJZ,SAME,cAACK,EAAD,MAEF,cAACT,EAAD,CAAcc,KAAK,YAAYb,WAAW,SAA1C,SACE,cAACS,EAAD,cAlCR,qBAAKlB,UAAU,SAAf,SACE,qBAAKA,UAAU,qB,gFCvBnB7E,EAASoG,YAAc,IAAD,mBACzBhH,IAAWG,oBAAqB,SAAC8C,EAAD,YAAM3B,WADb,cAGzBhB,IAAkBoD,WAAY,SAAC9B,EAAD,GAAyB,IAAfN,EAAc,EAAdA,QACvC,OAAOA,EAAO,sBAAOM,GAAP,CAAcN,IAAWM,KAJf,cAOzBV,IAAoBwC,WAAY,SAAC9B,EAAD,OAAUN,EAAV,EAAUA,QAAV,OAC/BM,EAAMqF,QAAO,qBAAGvH,KAAgB4B,QARR,IAWtBY,EAAW8E,aAAc,GAAD,mBAC3BhH,IAAWC,qBAAsB,kBAAM,KADZ,cAE3BD,IAAWG,oBAAqB,kBAAM,KAFX,cAG3BH,IAAWI,mBAAoB,kBAAM,KAHV,cAK3BE,IAAkBsD,SAAU,kBAAM,KALP,cAM3BtD,IAAkBoD,WAAY,kBAAM,KANT,cAO3BpD,IAAkBuD,UAAW,kBAAM,KAPR,cAS3B3C,IAAoB0C,SAAU,kBAAM,KATT,cAU3B1C,IAAoBwC,WAAY,kBAAM,KAVX,cAW3BxC,IAAoB2C,UAAW,kBAAM,KAXV,IAcxBqD,EAAQF,YAAc,MAAD,mBACxBhH,IAAWI,mBAAoB,SAACwB,EAAO+B,GAAR,OAAmBA,EAAOrC,WADjC,cAExBtB,IAAWG,oBAAqB,kBAAM,QAFd,cAIxBG,IAAkBuD,UAAW,SAACjC,EAAO+B,GAAR,OAAmBA,EAAOrC,WAJ/B,cAKxBhB,IAAkBoD,WAAY,kBAAM,QALZ,cAOxBxC,IAAoB2C,UAAW,SAACjC,EAAO+B,GAAR,OAAmBA,EAAOrC,WAPjC,cAQxBJ,IAAoBwC,WAAY,kBAAM,QARd,IAWrByD,EAAgBH,YAAc,GAAD,eAChChH,IAAWyB,SAAU,SAACwB,EAAD,YAAM3B,YAWf8F,EAFI,CAAEC,iBANIC,YAAgB,CACvC1G,SACAsB,WACAgF,UAGqCC,iBCnCjCI,EAAU,YACXC,YAAqB,CACtBC,kBAAmB,CACjBC,eAAgB,CAACC,IAAOC,IAAWC,IAAOC,IAASC,IAAOC,SAK1DC,EAAoB,CACxBC,IAAK,OACLC,YACAC,UAAW,CAAC,UAGDC,GAAQC,YAAe,CAClCC,QAAS,CACP1G,KAAM2G,YAAeP,EAAmBQ,KACxC9H,SAAUyG,EAAWC,iBACrBJ,OAAQG,EAAWD,eAErBI,aACAmB,UAAUC,IAGCC,GAAYC,YAAaR,I,YC7BtCS,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUX,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAaY,QAAS,KAAML,UAAWA,GAAvC,SACE,cAAC,IAAD,UACE,cAAChC,EAAD,YAKRsC,SAASC,eAAe,W","file":"static/js/main.6ca9aaf6.chunk.js","sourcesContent":["/** @format */\n\nimport axios from \"axios\";\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nexport async function fetchConacts() {\n  const { data } = await axios.get(`/contacts`);\n  return data;\n}\n\nexport async function fetchConactsPost(obj) {\n  const { data } = await axios.post(`/contacts`, obj);\n  return data;\n}\n\nexport async function fetchConactsDelete(id) {\n  const { data } = await axios.delete(`/contacts/${id}`);\n  return data;\n}\n","/** @format */\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport * as conactsAPI from \"../../servis/contacts-API\";\nimport allActions from \"./contacts-actions\";\n\nexport const fetchContacts = () => async (dispatch) => {\n  dispatch(allActions.fetchContactRequest());\n\n  try {\n    const data = await conactsAPI.fetchConacts();\n    dispatch(allActions.fetchContactSucess(data));\n  } catch (error) {\n    dispatch(allActions.fetchContactError(error.message));\n  }\n};\n\nexport const contactsFetchPost = createAsyncThunk(\n  \"/contacts/contactsFetchPost\",\n  async (newContact, { rejectWithValue, getState }) => {\n    try {\n      const arryFindName = getState().contacts.entris.find(\n        (contact) =>\n          contact?.name?.toLowerCase() === newContact.name.toLowerCase()\n      );\n      if (arryFindName) {\n        alert(`Ошибка, контакт с данным именем ${newContact.name} уже есть`);\n        return null;\n      }\n      const contacts = await conactsAPI.fetchConactsPost(newContact);\n\n      return contacts;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\nexport const contactsFetchDelete = createAsyncThunk(\n  \"/contacts/contactsFetchDelete\",\n  async (id, { rejectWithValue }) => {\n    try {\n      await conactsAPI.fetchConactsDelete(id);\n      return id;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n","/** @format */\nimport { v4 as uuidv4 } from \"uuid\";\nimport { createAction } from \"@reduxjs/toolkit\";\n\nconst formSubmit = createAction(\"add_Contact\", ({ name, number }) => ({\n  payload: {\n    id: uuidv4(),\n    name,\n    number,\n  },\n}));\n\nconst deleteContact = createAction(\"delete_Contact\");\n\nconst filters = createAction(\"filter_contact\");\n\nconst fetchContactRequest = createAction(\"/contacts/fetchContactRequest\");\nconst fetchContactSucess = createAction(\"/contacts/fetchContactSucess\");\nconst fetchContactError = createAction(\"/contacts/fetchContactError\");\n\nconst allActions = {\n  formSubmit,\n  deleteContact,\n  filters,\n  fetchContactRequest,\n  fetchContactSucess,\n  fetchContactError,\n};\n\nexport default allActions;\n","/** @format */\n\nconst getIsLoggedIn = (state) => state.auth.isLoggedIn;\n\nconst getUsername = (state) => state.auth.user.name;\nconst getIsLoding = (state) => state.auth.isLoding;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUsername,\n  getIsLoding,\n};\nexport default authSelectors;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","/** @format */\n\nimport axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nconst register = createAsyncThunk(\"auth/register\", async (credentials) => {\n  try {\n    const { data } = await axios.post(\"/users/signup\", credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n});\n\nconst logIn = createAsyncThunk(\"auth/login\", async (credentials) => {\n  try {\n    const { data } = await axios.post(\"/users/login\", credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n});\n\nconst logOut = createAsyncThunk(\"auth/logout\", async () => {\n  try {\n    await axios.post(\"/users/logout\");\n    token.unset();\n  } catch (error) {\n    console.log(error.message);\n  }\n});\n\nconst fetchCurrentUser = createAsyncThunk(\n  \"auth/refresh\",\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state?.auth?.token;\n    console.log();\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n\n    try {\n      await token.set(persistedToken);\n      const { data } = await axios.get(\"/users/current\");\n\n      return data;\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","/** @format */\n\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport authOperations from \"./auth-operations\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isLoding: false,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isLoding = true;\n    },\n  },\n  [authOperations.fetchCurrentUser.fulfilled](state, action) {\n    state.user = action.payload;\n    state.isLoggedIn = true;\n    state.isLoding = false;\n  },\n\n  [authOperations.fetchCurrentUser.rejected](state) {\n    state.isLoding = false;\n  },\n});\n\nexport default authSlice.reducer;\n","/** @format */\n\nimport React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { authSelectors } from \"redux/auth\";\n\nconst styles = {\n  link: {\n    display: \"inline-block\",\n    textDecoration: \"none\",\n    padding: 12,\n    fontWeight: 700,\n    color: \"#2A363B\",\n  },\n  activeLink: {\n    color: \"#E84A5F\",\n  },\n};\n\nconst Navigation = () => {\n  const isLogIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav>\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\n        Главная\n      </NavLink>\n      {isLogIn && (\n        <NavLink\n          to=\"/contacts\"\n          exact\n          style={styles.link}\n          activeStyle={styles.activeLink}\n        >\n          Телефонная книга\n        </NavLink>\n      )}\n    </nav>\n  );\n};\n\nexport default Navigation;\n","export default __webpack_public_path__ + \"static/media/default-avatar.b50d0699.png\";","/** @format */\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authSelectors, authOperations } from \"../../redux/auth\";\nimport defaultAvatar from \"./default-avatar.png\";\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    marginRight: 8,\n  },\n  name: {\n    fontWeight: 700,\n    marginRight: 12,\n  },\n};\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUsername);\n  const avatar = defaultAvatar;\n\n  return (\n    <div style={styles.container}>\n      <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\n      <span style={styles.name}>Добро пожаловать, {name}</span>\n      <button\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logOut())}\n        className=\"buttonOut\"\n      >\n        Выйти\n      </button>\n    </div>\n  );\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst styles = {\n  link: {\n    display: 'inline-block',\n    textDecoration: 'none',\n    padding: 12,\n    fontWeight: 700,\n    color: '#2A363B',\n  },\n  activeLink: {\n    color: '#E84A5F',\n  },\n};\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Регистрация\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Логин\n      </NavLink>\n    </div>\n  );\n}\n","/** @format */\n\nimport { useSelector } from \"react-redux\";\nimport Navigation from \"./Navigation\";\nimport UserMenu from \"./UserMenu\";\nimport AuthNav from \"./AuthNav\";\nimport { authSelectors } from \"../redux/auth\";\n\nconst styles = {\n  header: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderBottom: \"1px solid #2A363B\",\n  },\n};\n\nexport default function AppAll() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <header style={styles.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","/** @format */\n\nimport { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/auth\";\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","/** @format */\n\nimport { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/auth\";\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  const shouldRedirect = isLoggedIn && restricted;\n\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","/** @format */\n\nimport { Suspense, lazy, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Switch } from \"react-router-dom\";\nimport AppAll from \"./components/AppAll\";\nimport Container from \"./components/Container\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport { authOperations } from \"./redux/auth\";\nimport authSelectors from \"redux/auth/auth-selectors\";\n\nconst HomeView = lazy(() => import(\"./views/HomeView\"));\nconst RegisterView = lazy(() => import(\"./views/RegisterView\"));\nconst LoginView = lazy(() => import(\"./views/LoginView\"));\nconst Contacts = lazy(() => import(\"./views/Contacts\"));\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isLoding = useSelector(authSelectors.getIsLoding);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      {!isLoding ? (\n        <div className=\"loader\">\n          <div className=\"loader_inner\"></div>\n        </div>\n      ) : (\n        <>\n          <AppAll />\n          <Switch>\n            <Suspense\n              fallback={\n                <div className=\"loader\">\n                  <div className=\"loader_inner\"></div>\n                </div>\n              }\n            >\n              <PublicRoute exact path=\"/\">\n                <HomeView />\n              </PublicRoute>\n              <PublicRoute\n                exact\n                path=\"/register\"\n                redirectTo=\"/contacts\"\n                restricted\n              >\n                <RegisterView />\n              </PublicRoute>\n              <PublicRoute\n                exact\n                path=\"/login\"\n                redirectTo=\"/contacts\"\n                restricted\n              >\n                <LoginView />\n              </PublicRoute>\n              <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n                <Contacts />\n              </PrivateRoute>\n            </Suspense>\n          </Switch>\n        </>\n      )}\n    </Container>\n  );\n}\n","/** @format */\n\nimport { createReducer, combineReducers } from \"@reduxjs/toolkit\";\nimport allActions from \"./contacts-actions\";\nimport { contactsFetchDelete, contactsFetchPost } from \"./contacts-operation\";\n\nconst entris = createReducer([], {\n  [allActions.fetchContactSucess]: (_, { payload }) => payload,\n\n  [contactsFetchPost.fulfilled]: (state, { payload }) => {\n    return payload ? [...state, payload] : state;\n  },\n\n  [contactsFetchDelete.fulfilled]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst isLoding = createReducer(false, {\n  [allActions.fetchContactRequest]: () => true,\n  [allActions.fetchContactSucess]: () => false,\n  [allActions.fetchContactError]: () => false,\n\n  [contactsFetchPost.pending]: () => true,\n  [contactsFetchPost.fulfilled]: () => false,\n  [contactsFetchPost.rejected]: () => false,\n\n  [contactsFetchDelete.pending]: () => true,\n  [contactsFetchDelete.fulfilled]: () => false,\n  [contactsFetchDelete.rejected]: () => false,\n});\n\nconst error = createReducer(null, {\n  [allActions.fetchContactError]: (state, action) => action.payload,\n  [allActions.fetchContactSucess]: () => null,\n\n  [contactsFetchPost.rejected]: (state, action) => action.payload,\n  [contactsFetchPost.fulfilled]: () => null,\n\n  [contactsFetchDelete.rejected]: (state, action) => action.payload,\n  [contactsFetchDelete.fulfilled]: () => null,\n});\n\nconst reducerFilter = createReducer(\"\", {\n  [allActions.filters]: (_, { payload }) => payload,\n});\n\nconst contactsReduscer = combineReducers({\n  entris,\n  isLoding,\n  error,\n});\n\nconst allReducer = { contactsReduscer, reducerFilter };\n\nexport default allReducer;\n","/** @format */\n\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport allReducer from \"../redux/contacts/contacts-reduser-api\";\nimport { authReducer } from \"./auth\";\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: allReducer.contactsReduscer,\n    filter: allReducer.reducerFilter,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nexport const persistor = persistStore(store);\n","/** @format */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport App from \"./App\";\nimport { store, persistor } from \"./redux/store\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}